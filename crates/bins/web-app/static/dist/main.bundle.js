/*! For license information please see main.bundle.js.LICENSE.txt */
(()=>{"use strict";var t,e,n={},r={};function o(t){var e=r[t];if(void 0!==e)return e.exports;var i=r[t]={exports:{}};return n[t](i,i.exports,o),i.exports}function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c(r.key),r)}}function c(t){var e=function(t){if("object"!=i(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==i(e)?e:e+""}function l(t){var e="function"==typeof Map?new Map:void 0;return l=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return function(t,e,n){if(s())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var o=new(t.bind.apply(t,r));return n&&u(o,n.prototype),o}(t,arguments,d(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),u(n,t)},l(t)}function s(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(s=function(){return!!t})()}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}o.m=n,o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.f={},o.e=t=>Promise.all(Object.keys(o.f).reduce((e,n)=>(o.f[n](t,e),e),[])),o.u=t=>({619:"starknet-wallet",745:"starknet-core"}[t]+".chunk.js"),o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),t={},e="paynet-web-app:",o.l=(n,r,i,a)=>{if(t[n])t[n].push(r);else{var c,l;if(void 0!==i)for(var s=document.getElementsByTagName("script"),u=0;u<s.length;u++){var d=s[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==e+i){c=d;break}}c||(l=!0,(c=document.createElement("script")).charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.setAttribute("data-webpack",e+i),c.src=n),t[n]=[r];var p=(e,r)=>{c.onerror=c.onload=null,clearTimeout(f);var o=t[n];if(delete t[n],c.parentNode&&c.parentNode.removeChild(c),o&&o.forEach(t=>t(r)),e)return e(r)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=p.bind(null,c.onerror),c.onload=p.bind(null,c.onload),l&&document.head.appendChild(c)}},o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.p="/static/dist/",(()=>{var t={792:0};o.f.j=(e,n)=>{var r=o.o(t,e)?t[e]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise((n,o)=>r=t[e]=[n,o]);n.push(r[2]=i);var a=o.p+o.u(e),c=new Error;o.l(a,n=>{if(o.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;c.message="Loading chunk "+e+" failed.\n("+i+": "+a+")",c.name="ChunkLoadError",c.type=i,c.request=a,r[1](c)}},"chunk-"+e,e)}};var e=(e,n)=>{var r,i,[a,c,l]=n,s=0;if(a.some(e=>0!==t[e])){for(r in c)o.o(c,r)&&(o.m[r]=c[r]);l&&l(o)}for(e&&e(n);s<a.length;s++)i=a[s],o.o(t,i)&&t[i]&&t[i][0](),t[i]=0},n=self.webpackChunkpaynet_web_app=self.webpackChunkpaynet_web_app||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var p=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,n){return e=d(e),function(t,e){if(e&&("object"==i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,s()?Reflect.construct(e,n||[],d(t).constructor):e.apply(t,n))}(this,e)).attachShadow({mode:"open"}),t.render(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(e,t),n=e,r=[{key:"attributeChangedCallback",value:function(t,e,n){e!==n&&this.render()}},{key:"variant",get:function(){return this.getAttribute("variant")||"primary"}},{key:"disabled",get:function(){return this.hasAttribute("disabled")},set:function(t){this.setDisabled(t)}},{key:"loading",get:function(){return this.hasAttribute("loading")}},{key:"render",value:function(){var t=this,n='\n            <button class="wallet-btn '.concat(this.variant,'" ').concat(this.disabled?"disabled":"",'>\n                <div class="btn-content">\n                    ').concat(this.loading?'<span class="loading-spinner"></span>':"","\n                    <slot></slot>\n                </div>\n            </button>\n        ");this.shadowRoot.innerHTML="\n            <style>\n                :host {\n                    display: inline-block;\n                }\n                \n                .wallet-btn {\n                    margin-left: 10px;\n                    padding: 8px 16px;\n                    border: 0;\n                    border-radius: 5px;\n                    cursor: pointer;\n                    font-size: 14px;\n                    font-family: inherit;\n                    font-weight: normal;\n                    text-decoration: none;\n                    outline: none;\n                    box-shadow: none;\n                    appearance: none;\n                    display: inline-block;\n                    vertical-align: baseline;\n                    line-height: normal;\n                    transition: background-color 0.2s ease;\n                    min-width: 120px;\n                    position: relative;\n                    overflow: hidden;\n                }\n\n                .wallet-btn.primary {\n                    background-color: #48bb78;\n                    color: white;\n                }\n\n                .wallet-btn.primary:hover:not(:disabled) {\n                    background-color: #38a169;\n                }\n\n                .wallet-btn.danger {\n                    background-color: #dc3545;\n                    color: white;\n                }\n\n                .wallet-btn.danger:hover:not(:disabled) {\n                    background-color: #c82333;\n                }\n\n                .wallet-btn:disabled {\n                    background-color: #a0aec0;\n                    cursor: not-allowed;\n                    opacity: 0.7;\n                }\n\n                .loading-spinner {\n                    display: inline-block;\n                    width: 14px;\n                    height: 14px;\n                    border: 2px solid transparent;\n                    border-top: 2px solid currentColor;\n                    border-radius: 50%;\n                    animation: spin 1s linear infinite;\n                    margin-right: 8px;\n                }\n\n                @keyframes spin {\n                    0% { transform: rotate(0deg); }\n                    100% { transform: rotate(360deg); }\n                }\n\n                .btn-content {\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                }\n\n                :host([hidden]) {\n                    display: none !important;\n                }\n            </style>\n        "+n,this.shadowRoot.querySelector("button").addEventListener("click",function(n){t.disabled||t.loading||t.dispatchEvent(new CustomEvent(e.EVENTS.CLICK,{bubbles:!0,detail:{originalEvent:n}}))})}},{key:"setLoading",value:function(t){t?this.setAttribute("loading",""):this.removeAttribute("loading")}},{key:"setDisabled",value:function(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}},{key:"setVariant",value:function(t){this.setAttribute("variant",t)}},{key:"textContent",get:function(){return this.innerHTML},set:function(t){this.innerHTML=t}},{key:"className",get:function(){return"wallet-btn ".concat(this.variant)},set:function(t){t.includes("connected")?this.setVariant("danger"):this.setVariant("primary")}}],o=[{key:"EVENTS",get:function(){return{CLICK:"wallet-click"}}},{key:"observedAttributes",get:function(){return["variant","disabled","loading"]}}],r&&a(n.prototype,r),o&&a(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(l(HTMLElement));function f(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof c?r:c,s=Object.create(l.prototype);return b(s,"_invoke",function(n,r,o){var i,c,l,s=0,u=o||[],d=!1,p={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(e,n){return i=e,c=0,l=t,p.n=n,a}};function f(n,r){for(c=n,l=r,e=0;!d&&s&&!o&&e<u.length;e++){var o,i=u[e],f=p.p,b=i[2];n>3?(o=b===r)&&(l=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=t):i[0]<=f&&((o=n<2&&f<i[1])?(c=0,p.v=r,p.n=i[1]):f<b&&(o=n<3||i[0]>r||r>b)&&(i[4]=n,i[5]=r,p.n=b,c=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,b){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,b),c=u,l=b;(e=c<2?t:l)||!d;){i||(c?c<3?(c>1&&(p.n=-1),f(c,l)):p.n=l:p.v=l);try{if(s=2,i){if(c||(o="next"),e=i[o]){if(!(e=e.call(i,l)))throw TypeError("iterator result is not an object");if(!e.done)return e;l=e.value,c<2&&(c=0)}else 1===c&&(e=i.return)&&e.call(i),c<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=t}else if((e=(d=p.n<0)?l:n.call(r,p))!==a)break}catch(e){i=t,c=1,l=e}finally{s=1}}return{value:e,done:d}}}(n,o,i),!0),s}var a={};function c(){}function l(){}function s(){}e=Object.getPrototypeOf;var u=[][r]?e(e([][r]())):(b(e={},r,function(){return this}),e),d=s.prototype=c.prototype=Object.create(u);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,b(t,o,"GeneratorFunction")),t.prototype=Object.create(d),t}return l.prototype=s,b(d,"constructor",s),b(s,"constructor",l),l.displayName="GeneratorFunction",b(s,o,"GeneratorFunction"),b(d),b(d,o,"Generator"),b(d,r,function(){return this}),b(d,"toString",function(){return"[object Generator]"}),(f=function(){return{w:i,m:p}})()}function b(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}b=function(t,e,n,r){function i(e,n){b(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},b(t,e,n,r)}function y(t,e,n,r,o,i,a){try{var c=t[i](a),l=c.value}catch(t){return void n(t)}c.done?e(l):Promise.resolve(l).then(r,o)}function v(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){y(i,r,o,a,c,"next",t)}function c(t){y(i,r,o,a,c,"throw",t)}a(void 0)})}}function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g(r.key),r)}}function g(t){var e=function(t){if("object"!=h(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==h(e)?e:e+""}customElements.define("wallet-button",p);var w=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},e=[{key:"show",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";document.querySelectorAll(".toast").forEach(function(t){return t.remove()});var n=document.createElement("div");n.className="toast toast-".concat(e),n.textContent=t,Object.assign(n.style,{position:"fixed",top:"20px",right:"20px",padding:"12px 24px",borderRadius:"8px",color:"white",fontWeight:"500",zIndex:"1000",transform:"translateX(100%)",transition:"transform 0.3s ease",backgroundColor:"success"===e?"#28a745":"#dc3545"}),document.body.appendChild(n),setTimeout(function(){n.style.transform="translateX(0)"},10),setTimeout(function(){n.style.transform="translateX(100%)",setTimeout(function(){return n.remove()},300)},3e3)}}],null&&m(t.prototype,null),e&&m(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}(),k=null,E=null;function x(){return C.apply(this,arguments)}function C(){return(C=v(f().m(function t(){var e;return f().w(function(t){for(;;)switch(t.p=t.n){case 0:if(!k){t.n=1;break}return t.a(2,k);case 1:return t.p=1,console.log("Loading Starknet module..."),t.n=2,o.e(619).then(o.bind(o,430));case 2:return k=t.v,console.log("Starknet module loaded successfully"),t.a(2,k);case 3:throw t.p=3,e=t.v,console.error("Failed to load Starknet module:",e),new Error("Failed to load Starknet library: ".concat(e.message));case 4:return t.a(2)}},t,null,[[1,3]])}))).apply(this,arguments)}function S(){return O.apply(this,arguments)}function O(){return(O=v(f().m(function t(){var e;return f().w(function(t){for(;;)switch(t.p=t.n){case 0:if(!E){t.n=1;break}return t.a(2,E);case 1:return t.p=1,console.log("Loading Starknet core module..."),t.n=2,Promise.all([o.e(619),o.e(745)]).then(o.bind(o,450));case 2:return E=t.v,console.log("Starknet core module loaded successfully"),t.a(2,E);case 3:throw t.p=3,e=t.v,console.error("Failed to load Starknet core module:",e),new Error("Failed to load Starknet core library: ".concat(e.message));case 4:return t.a(2)}},t,null,[[1,3]])}))).apply(this,arguments)}var j=function(t,e,n){var r=function(){n(),t.removeEventListener(e,r)};t.addEventListener(e,r)};function _(){return T.apply(this,arguments)}function T(){return T=v(f().m(function t(){var e,n,r,o,i,a,c,l,s,u,d,b,y,h;return f().w(function(t){for(;;)switch(t.p=t.n){case 0:if(e=document.getElementById("wallet-status"),n=document.getElementById("wallet-connect-btn"),r=document.getElementById("deposit-btn"),o=document.getElementById("deposit-data")){t.n=1;break}return console.error("No deposit data found - missing script tag"),e.textContent="Error: Missing deposit configuration",t.a(2);case 1:t.p=1,i=JSON.parse(o.textContent),console.log("Loaded deposit data:",i),t.n=3;break;case 2:return t.p=2,y=t.v,console.error("Failed to parse deposit data:",y),e.textContent="Error: Invalid deposit configuration",t.a(2);case 3:if(e&&n&&r){t.n=4;break}return console.log("No wallet elements found - skipping Starknet initialization"),t.a(2);case 4:return t.p=4,e.textContent="Loading Starknet library...",t.n=5,x();case 5:return a=t.v,c=a.connect,l=a.disconnect,t.n=6,S();case 6:s=t.v,u=s.WalletAccount,d=s.Contract,e.textContent="Ready to connect wallet",n.setDisabled(!1),b=function(){var t=v(f().m(function t(){var o,a,s,y,h,m,g,k,E;return f().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,n.setLoading(!0),n.textContent="Connecting...",t.n=1,c({modalMode:"alwaysAsk"});case 1:return o=t.v,a=i.provider_url,t.n=2,u.connect({nodeUrl:a},o);case 2:s=t.v,y=new d(i.asset_contract.abi,i.asset_contract.address,s.walletProvider),h=new d(i.invoice_contract.abi,i.invoice_contract.address,s.walletProvider),m=y.populate("approve",{spender:i.invoice_contract.address,amount:{low:i.amount_low,high:i.amount_high}}),g=h.populate("pay_invoice",{quote_id_hash:i.quote_id_hash,expiry:i.expiry,asset:i.asset_contract.address,amount:{low:i.amount_low,high:i.amount_high},payee:i.payee}),e.textContent="Connected to ".concat(o.name||"wallet"),n.setLoading(!1),n.textContent="Disconnect",n.setVariant("danger"),r.hidden=!1,w.show("Wallet connected successfully!","success"),k=function(){var t=v(f().m(function t(){var e,n,o;return f().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,r.setLoading(!0),r.textContent="Depositing...",e=[m,g],console.log("Executing deposit with payload:",e),t.n=1,s.execute(e);case 1:n=t.v,console.log("Deposit response:",n),w.show("Deposit transaction submitted!","success"),r.setLoading(!1),r.textContent="Deposit",t.n=3;break;case 2:t.p=2,o=t.v,console.error("Deposit error:",o),w.show("Deposit failed: ".concat(o.message),"error"),r.setLoading(!1),r.textContent="Deposit";case 3:return t.a(2)}},t,null,[[0,2]])}));return function(){return t.apply(this,arguments)}}(),r.addEventListener(p.EVENTS.CLICK,k),j(n,p.EVENTS.CLICK,v(f().m(function t(){var o;return f().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,console.log("in disconnect"),t.n=1,l();case 1:r.hidden=!0,r.removeEventListener(p.EVENTS.CLICK,k),e.textContent="Disconnected",n.textContent="Connect Wallet",n.setVariant("primary"),w.show("Wallet disconnected","success"),j(n,p.EVENTS.CLICK,b),t.n=3;break;case 2:t.p=2,o=t.v,console.error("Disconnect error:",o),w.show("Failed to disconnect wallet","error");case 3:return t.a(2)}},t,null,[[0,2]])}))),t.n=4;break;case 3:t.p=3,E=t.v,console.error("Wallet connection error:",E),n.setLoading(!1),n.textContent="Connect Wallet",n.setVariant("primary"),w.show("Failed to connect wallet","error");case 4:return t.a(2)}},t,null,[[0,3]])}));return function(){return t.apply(this,arguments)}}(),j(n,p.EVENTS.CLICK,b),t.n=8;break;case 7:t.p=7,h=t.v,console.error("Starknet initialization error:",h),e.textContent="Error: ".concat(h.message),n.setDisabled(!0),w.show("Failed to initialize Starknet features","error");case 8:return t.a(2)}},t,null,[[4,7],[1,2]])})),T.apply(this,arguments)}window.loadStarknetWallet=x,window.loadStarknetCore=S,window.initializeStarknetFeatures=_,window.ToastManager=w,document.addEventListener("DOMContentLoaded",function(){console.log("ðŸš€ Paynet frontend loaded!"),document.querySelectorAll("code, pre").forEach(function(t){t.addEventListener("click",function(){navigator.clipboard.writeText(t.textContent).then(function(){w.show("Copied to clipboard!","success")}).catch(function(){console.log("Failed to copy to clipboard"),w.show("Failed to copy to clipboard","error")})}),t.style.cursor="pointer",t.title="Click to copy"}),document.getElementById("wallet-status")&&_()})})();
//# sourceMappingURL=main.bundle.js.map